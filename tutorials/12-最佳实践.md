# 第十二课：Claude Code 最佳实践

> 🎯 **学习目标**：掌握 Anthropic 官方推荐的最佳实践，构建高效的代理式编程工作流

> 📖 **原文链接**：[Claude Code: Best practices for agentic coding](https://www.anthropic.com/engineering/claude-code-best-practices)

## 📚 课程概述

本课程基于 Anthropic 官方发布的最佳实践指南，总结了经过验证的通用模式和工作流，适用于各种代码库、语言和环境。这些建议来自 Anthropic 内部团队和外部工程师的实践经验。

## 🎯 核心理念

Claude Code 是一款**低层级、无强制性**的代理式编程工具：
- 几乎提供对模型的原始访问
- 不强加特定工作流
- 灵活、可定制、可脚本化、安全
- 适合构建自己的最佳实践

## 📖 最佳实践指南

### 一、自定义你的设置

#### 1.1 创建 CLAUDE.md 文件

`CLAUDE.md` 是特殊文件，Claude 在开始对话时会自动加载，是记录项目信息的理想场所。

**适合记录的内容：**
- 常用 bash 命令
- 核心文件和工具函数
- 代码风格指南
- 测试说明
- 仓库规范（分支命名、合并 vs. rebase 等）
- 开发环境设置（pyenv、编译器等）
- 项目特有的异常行为或警告
- 希望 Claude 记住的其他信息

**示例 CLAUDE.md：**
```markdown
# Bash commands
- npm run build: Build the project
- npm run typecheck: Run the typechecker

# Code style
- Use ES modules (import/export) syntax, not CommonJS (require)
- Destructure imports when possible (eg. import { foo } from 'bar')

# Workflow
- Be sure to typecheck when you're done making a series of code changes
- Prefer running single tests, not the whole test suite, for performance
```

**CLAUDE.md 的位置：**

1. **仓库根目录**（最常见）
   - 命名为 `CLAUDE.md` 并提交到 git（推荐）
   - 或命名为 `CLAUDE.local.md` 并加入 `.gitignore`

2. **父级目录**
   - 适合 monorepo
   - 如在 `root/foo` 运行，`root/CLAUDE.md` 和 `root/foo/CLAUDE.md` 都会加载

3. **子目录**
   - Claude 处理子目录文件时按需加载

4. **Home 文件夹**
   - `~/.claude/CLAUDE.md`
   - 适用于所有 claude 会话

**快速生成：**
```bash
# 在项目目录中
/init
```

Claude 会自动生成基于项目结构的 `CLAUDE.md`。

---

#### 1.2 调优你的 CLAUDE.md 文件

`CLAUDE.md` 会成为 Claude 提示的一部分，应像常用提示一样不断优化。

**优化建议：**

1. **动态添加内容**
   ```
   你：# 所有 API 调用都要包含错误处理和重试逻辑

   Claude：已添加到 CLAUDE.md，我会在后续所有 API 相关的代码中遵循这个规则。
   ```

2. **定期优化**
   - 使用提示优化器处理 CLAUDE.md
   - 用"IMPORTANT"或"YOU MUST"加重语气
   - 删除无效内容，保持简洁

3. **团队协作**
   - 编码时用 `#` 记录命令、文件、风格指南
   - 将 CLAUDE.md 更改一并提交
   - 方便团队成员受益

**常见错误：**
- ❌ 添加大量内容却不迭代验证
- ❌ 从不优化和精炼
- ✅ 持续测试和改进最有效的内容

---

#### 1.3 管理 Claude 的允许工具列表

默认情况下，Claude Code 对可能修改系统的操作会请求权限（文件写入、bash 命令、MCP 工具等）。

**管理允许工具的四种方式：**

1. **会话中选择"Always allow"**
   - 被提示时直接授权

2. **使用 /permissions 命令**
   ```
   /permissions add Edit
   /permissions add Bash(git commit:*)
   /permissions add mcp__puppeteer__puppeteer_navigate
   ```

3. **手动编辑配置文件**
   - `.claude/settings.json`（推荐提交到源码管理）
   - `~/.claude.json`（个人配置）

4. **使用 CLI 标志**
   ```bash
   claude --allowedTools Edit,Bash
   ```

**推荐允许列表：**
- `Edit` - 文件编辑（易撤销）
- `Bash(git commit:*)` - git 提交
- `Bash(npm run:*)` - npm 脚本

---

#### 1.4 如果用 GitHub，安装 gh CLI

Claude 能用 `gh` CLI 与 GitHub 交互：
- 创建 issue
- 打开 PR
- 读取评论
- 管理仓库

**安装：**
```bash
# macOS
brew install gh

# 认证
gh auth login
```

没有 `gh` 时，Claude 仍可用 GitHub API 或 MCP 服务器。

---

### 二、给 Claude 更多工具

#### 2.1 用 bash 工具配合 Claude

Claude Code 继承你的 bash 环境，能访问所有工具。

**如何让 Claude 了解你的工具：**

1. **告诉 Claude 工具名并举例用法**
   ```
   你：我们用 deploy-staging 命令部署到测试环境
       用法：deploy-staging <branch-name>
   ```

2. **让 Claude 查看 --help**
   ```
   你：运行 deploy-staging --help 了解如何使用
   ```

3. **在 CLAUDE.md 记录**
   ```markdown
   # Custom Tools
   - deploy-staging: Deploy to staging environment
     Usage: deploy-staging <branch-name>
   ```

---

#### 2.2 用 MCP 配合 Claude

Claude Code 既是 MCP 服务器也是客户端。

**三种连接方式：**

1. **项目配置**
   - 在项目目录运行时可用

2. **全局配置**
   - 所有项目可用

3. **.mcp.json 文件**
   - 团队成员开箱即用

**示例配置 .mcp.json：**
```json
{
  "mcpServers": {
    "puppeteer": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-puppeteer"]
    },
    "sentry": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sentry"],
      "env": {
        "SENTRY_AUTH_TOKEN": "${SENTRY_AUTH_TOKEN}"
      }
    }
  }
}
```

**调试 MCP：**
```bash
claude --mcp-debug
```

---

#### 2.3 用自定义斜杠命令

将重复性工作流存储为斜杠命令。

**创建斜杠命令：**

1. 在 `.claude/commands/` 创建 Markdown 文件
2. 使用 `$ARGUMENTS` 传递参数

**示例：修复 GitHub Issue**

创建 `.claude/commands/fix-github-issue.md`：
```markdown
Please analyze and fix the GitHub issue: $ARGUMENTS.

Follow these steps:
1. Use `gh issue view` to get the issue details
2. Understand the problem described in the issue
3. Search the codebase for relevant files
4. Implement the necessary changes to fix the issue
5. Write and run tests to verify the fix
6. Ensure code passes linting and type checking
7. Create a descriptive commit message
8. Push and create a PR

Remember to use the GitHub CLI (`gh`) for all GitHub-related tasks.
```

**使用：**
```
/project:fix-github-issue 1234
```

**个人命令：**
- 放到 `~/.claude/commands/` 文件夹
- 在所有会话中使用

---

### 三、尝试常见工作流

#### 3.1 探索、规划、编码、提交

适用于多种问题的通用工作流。

**步骤：**

1. **探索阶段**
   ```
   你：读处理日志的文件，但暂时不要写代码
   ```
   - 充分利用子代理调查问题
   - 保留上下文

2. **规划阶段**
   ```
   你：think hard 并制定解决这个问题的计划
   ```
   - 用"think"触发扩展思考模式
   - 思考级别：think < think hard < think harder < ultrathink

3. **编码阶段**
   ```
   你：实现这个解决方案
   ```
   - 让 Claude 验证方案合理性

4. **提交阶段**
   ```
   你：提交代码并创建 PR，更新 README 说明变更
   ```

**关键点：**
- 第 1-2 步至关重要
- 否则 Claude 会直接跳到编码
- 深入思考的问题需要先研究和规划

---

#### 3.2 写测试、提交；编码、迭代、提交

测试驱动开发（TDD）在代理式编程中更强大。

**TDD 工作流：**

1. **写测试**
   ```
   你：根据预期输入/输出写测试。我们在做 TDD，不要写 mock 实现。
   ```

2. **验证测试失败**
   ```
   你：运行测试并确认失败。不要写实现代码。
   ```

3. **提交测试**
   ```
   你：对测试满意后提交
   ```

4. **编写实现**
   ```
   你：写通过测试的代码，不要修改测试
   ```

5. **迭代优化**
   ```
   你：持续迭代直到所有测试通过
   ```

6. **验证和提交**
   ```
   你：用独立子代理验证实现是否过拟合测试
   ```

**优势：**
- Claude 在有明确目标时表现最佳
- 可视化 mock 和测试用例提供明确目标
- 不断修改、评估、完善直到成功

---

#### 3.3 编码、截图结果、迭代

为 Claude 提供可视化目标。

**视觉反馈工作流：**

1. **提供截图工具**
   - Puppeteer MCP 服务器
   - iOS 模拟器 MCP 服务器
   - 手动复制/粘贴截图

2. **提供视觉 mock**
   ```
   你：[粘贴设计稿]
       实现这个设计
   ```

3. **迭代优化**
   ```
   你：截图当前结果并与 mock 对比，继续优化
   ```

4. **满意后提交**
   ```
   你：提交代码
   ```

**效果：**
- 第一版可能不错
- 2-3 轮迭代后通常更好
- 可见输出工具效果最佳

---

#### 3.4 安全 YOLO 模式

跳过所有权限检查，让 Claude 一次性完成任务。

**使用：**
```bash
claude --dangerously-skip-permissions
```

**适用场景：**
- 修复 lint 错误
- 生成样板代码
- 批量重命名

**安全建议：**
- ⚠️ 有数据丢失、系统损坏风险
- ⚠️ 可能被提示注入攻击
- ✅ 建议在无网络访问的容器中使用
- ✅ 参考 Docker Dev Containers

---

#### 3.5 代码库问答

新成员入职时，用 Claude Code 学习和探索代码库。

**示例问题：**

1. **工作原理**
   ```
   你：日志是如何工作的？
   ```

2. **操作指南**
   ```
   你：如何新增 API 端点？
   ```

3. **代码解释**
   ```
   你：foo.rs 第 134 行的 async move { ... } 有什么作用？
   ```

4. **边界情况**
   ```
   你：CustomerOnboardingFlowImpl 处理了哪些边界情况？
   ```

5. **设计决策**
   ```
   你：为什么第 333 行调用 foo() 而不是 bar()？
   ```

6. **跨语言对比**
   ```
   你：baz.py 第 334 行在 Java 中的等价实现是什么？
   ```

**在 Anthropic 的应用：**
- 核心入职流程
- 显著提升上手速度
- 减轻其他工程师负担
- 无需特殊提示，直接提问

---

#### 3.6 用 Claude 操作 git

许多 Anthropic 工程师 90% 以上的 git 操作都交给 Claude。

**Git 操作示例：**

1. **搜索 git 历史**
   ```
   你：查 git 历史，v1.2.3 包含了哪些更改？
   你：谁负责这个功能？
   你：这个 API 为什么这样设计？
   ```

2. **编写提交信息**
   ```
   你：生成提交信息
   ```
   - Claude 自动查看更改和历史
   - 生成包含所有相关上下文的信息

3. **复杂 git 操作**
   ```
   你：回滚 foo.js 的更改
   你：解决 rebase 冲突
   你：比较和移植这个补丁
   ```

---

#### 3.7 用 Claude 操作 GitHub

Claude Code 可管理 GitHub 交互。

**GitHub 操作示例：**

1. **创建 PR**
   ```
   你：pr
   ```
   - Claude 理解"pr"简写
   - 根据 diff 和上下文生成提交信息

2. **修复代码审查评论**
   ```
   你：修复 PR 上的评论
   ```
   - 一键解决简单评论
   - 完成后推送回 PR 分支

3. **修复构建失败**
   ```
   你：修复构建失败或 linter 警告
   ```

4. **Issue 管理**
   ```
   你：分类和整理所有 open issues
   ```
   - 循环处理所有 open GitHub issues

**优势：**
- 无需记住 `gh` 命令行语法
- 自动化日常任务

---

#### 3.8 用 Claude 处理 Jupyter notebook

Anthropic 的研究员和数据科学家用 Claude Code 读写 Jupyter notebook。

**工作流：**

1. **在 VS Code 并排打开**
   - Claude Code 终端
   - `.ipynb` 文件

2. **Claude 能力**
   - 解读输出（包括图片）
   - 快速探索和交互数据
   - 优化 notebook 美观度

3. **优化建议**
   ```
   你：优化这个数据可视化，让它更美观
   ```
   - 明确要求"美观"
   - 提醒 Claude 优化人类观感

---

### 四、优化你的工作流

#### 4.1 指令要具体

Claude Code 在收到更具体指令时成功率显著提升。

**对比示例：**

❌ **模糊指令**
```
你：实现一个日历 widget
```

✅ **具体指令**
```
你：参考首页现有 widget 的实现，了解模式，尤其是代码与接口如何分离。
    HotDogWidget.php 是很好的例子。
    然后，按此模式实现一个新日历 widget，支持选择月份和前后翻页选择年份。
    只用代码库已有的库，从零实现。
```

**原则：**
- Claude 能推断意图，但不能读心
- 具体说明能更好地对齐预期
- 明确指令能减少后续修正

---

#### 4.2 给 Claude 图片

Claude 通过多种方式善于处理图片和图表。

**提供图片的方式：**

1. **粘贴截图**
   - macOS：`Cmd+Ctrl+Shift+4` 截图到剪贴板
   - 粘贴：`Ctrl+V`（注意不是 `Cmd+V`）
   - 远程时无效

2. **拖拽图片**
   - 直接拖到输入框

3. **提供文件路径**
   ```
   你：读取 designs/mockup.png 并实现这个界面
   ```

**应用场景：**
- UI 开发时用设计稿做参考
- 分析和调试可视化图表
- 即使不加图片，也可明确告知结果需美观

---

#### 4.3 明确提及要处理的文件

用 Tab 补全快速引用仓库中任意文件或文件夹。

**Tab 补全示例：**
```
你：优化 src/comp[TAB]
    → src/components/

你：重构 src/components/Head[TAB]
    → src/components/Header.tsx
```

**好处：**
- 帮助 Claude 找到正确资源
- 避免路径错误
- 提供精确上下文

---

#### 4.4 给 Claude URL

在提示中粘贴具体 URL，Claude 会自动拉取和阅读。

**URL 使用示例：**
```
你：https://react.dev/learn/thinking-in-react
    根据这篇文章重构我们的组件
```

**域名权限管理：**
```
/permissions add WebFetch(docs.foo.com:*)
```
避免同一域名反复请求权限。

---

#### 4.5 及时纠正

主动协作和引导 Claude 通常效果更好。

**四种纠正工具：**

1. **让 Claude 先制定计划**
   ```
   你：制定计划，未确认前不要编码
   ```

2. **按 Escape 中断**
   - 中断任意阶段（思考、调用工具、编辑文件）
   - 保留上下文
   - 便于重定向或补充指令

3. **双击 Escape 编辑历史**
   - 回到历史记录
   - 编辑前一个提示
   - 探索不同方向
   - 可反复编辑

4. **让 Claude 撤销更改**
   ```
   你：撤销刚才的更改
   ```
   - 常与第 2 点结合
   - 尝试不同方案

**原则：**
- Claude Code 偶尔能一次性完美解决
- 但用纠正工具通常能更快获得更好结果

---

#### 4.6 用 /clear 保持上下文聚焦

长会话中，上下文窗口可能被无关内容填满，影响性能。

**使用场景：**
- 每完成一个任务
- 上下文变得混乱
- 开始新的独立任务

**命令：**
```
/clear
```

**效果：**
- 重置上下文窗口
- 保持注意力集中
- 提升性能

---

#### 4.7 用清单和草稿本处理复杂工作流

对于多步骤或需穷举解决方案的大型任务，建议用 Markdown 清单。

**适用场景：**
- 代码迁移
- 修复大量 lint 错误
- 运行复杂构建脚本

**工作流示例：修复 lint 问题**

1. **创建清单**
   ```
   你：运行 lint 命令，将所有错误（含文件名和行号）写入 lint-fixes.md
   ```

2. **逐条处理**
   ```
   你：从清单顶部开始，逐条修复。每修复并验证一个就勾选，再处理下一个。
   ```

**清单格式：**
```markdown
# Lint Fixes Checklist

- [ ] src/app.js:10 - Missing semicolon
- [ ] src/utils.js:23 - Unused variable
- [ ] src/api.js:45 - Inconsistent quotes
...
```

---

#### 4.8 向 Claude 传递数据

有多种方式向 Claude 提供数据。

**数据传递方式：**

1. **直接复制粘贴**（最常用）
   ```
   你：[粘贴日志]
       分析这些错误
   ```

2. **管道传入**
   ```bash
   cat foo.txt | claude
   cat error.log | claude -P "分析这些日志"
   ```
   - 适合日志、CSV、大数据

3. **让 Claude 拉取**
   ```
   你：用 curl 拉取 API 数据并分析
   你：读取 /var/log/app.log
   ```

4. **读取文件或 URL**
   ```
   你：读取 data.csv 并生成报告
   你：从 https://api.example.com/data 获取数据
   ```

**组合使用：**
大多数会话会结合多种方式。例如：
- 先管道传入日志文件
- 再让 Claude 用工具拉取更多上下文

---

### 五、用无头模式自动化基础设施

Claude Code 提供无头模式，适用于非交互场景。

**启用无头模式：**
```bash
# 基本用法
claude -p "你的提示"

# 流式 JSON 输出
claude -p "你的提示" --output-format stream-json
```

**注意事项：**
- 无头模式不会在会话间持久化
- 每次都需手动触发

---

#### 5.1 用 Claude 处理 issue 分拣

无头模式可驱动由 GitHub 事件触发的自动化。

**示例：自动标记新 issue**

```yaml
# .github/workflows/triage-issues.yml
name: Triage Issues
on:
  issues:
    types: [opened]

jobs:
  triage:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Triage with Claude
        run: |
          claude -p "分析 issue #${{ github.event.issue.number }} 并添加合适的标签"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

---

#### 5.2 用 Claude 做 linter

Claude Code 可做主观代码审查。

**能发现的问题：**
- 拼写错误
- 过时注释
- 误导性函数或变量名
- 代码风格不一致
- 不符合最佳实践

**示例：pre-commit hook**

```bash
#!/bin/bash
# .git/hooks/pre-commit

# 获取暂存的文件
FILES=$(git diff --cached --name-only --diff-filter=ACM | grep '\.js$')

if [ -n "$FILES" ]; then
    echo "Running Claude linter..."
    claude -p "审查以下文件的代码质量：$FILES" --output-format stream-json
fi
```

---

### 六、多 Claude 协作提升效率

最强大的用法之一是并行运行多个 Claude 实例。

#### 6.1 一个 Claude 写代码，另一个 Claude 审查

类似多工程师协作，分开上下文有时更好。

**工作流：**

1. **Claude A：写代码**
   ```
   Claude A：实现用户认证功能
   ```

2. **Claude B：审查代码**
   ```
   你：/clear  # 或启动新终端
   Claude B：审查 Claude A 写的认证代码
   ```

3. **Claude C：根据反馈修改**
   ```
   你：/clear  # 或启动新终端
   Claude C：读取代码和审查反馈，根据建议修改
   ```

**其他模式：**
- 一个写测试，另一个写实现
- 让 Claude 实例通过草稿本交流
- 指定谁写谁读

**优势：**
- 分工往往比单 Claude 效果更好
- 各自专注于特定任务

---

#### 6.2 多仓库检出

许多 Anthropic 工程师的做法。

**设置步骤：**

1. **创建多个检出**
   ```bash
   cd ~/projects
   git clone repo.git project-1
   git clone repo.git project-2
   git clone repo.git project-3
   git clone repo.git project-4
   ```

2. **在不同终端标签页打开**
   ```bash
   # 标签页 1
   cd project-1 && claude

   # 标签页 2
   cd project-2 && claude

   # 标签页 3
   cd project-3 && claude

   # 标签页 4
   cd project-4 && claude
   ```

3. **分配不同任务**
   - Claude 1：重构认证
   - Claude 2：添加新功能
   - Claude 3：修复 bugs
   - Claude 4：写文档

4. **轮流检查进度**
   - 批准/拒绝权限请求
   - 提供反馈
   - 协调任务

---

#### 6.3 用 git worktree

适合多个独立任务，是多检出的轻量替代方案。

**什么是 git worktree？**
- 将同一仓库的多个分支检出到不同目录
- 每个 worktree 有独立工作目录和文件
- 历史和 reflog 共享

**操作步骤：**

1. **创建 worktree**
   ```bash
   # 为 feature-a 分支创建 worktree
   git worktree add ../project-feature-a feature-a

   # 为 feature-b 分支创建 worktree
   git worktree add ../project-feature-b feature-b

   # 为 feature-c 分支创建 worktree
   git worktree add ../project-feature-c feature-c
   ```

2. **在每个 worktree 启动 Claude**
   ```bash
   # 终端 1
   cd ../project-feature-a && claude

   # 终端 2
   cd ../project-feature-b && claude

   # 终端 3
   cd ../project-feature-c && claude
   ```

3. **完成后清理**
   ```bash
   git worktree remove ../project-feature-a
   git worktree remove ../project-feature-b
   git worktree remove ../project-feature-c
   ```

**最佳实践：**
- 命名规范统一
- 每个 worktree 保持一个终端标签页
- Mac 用户用 iTerm2 设置需要关注时的通知
- 不同 worktree 用不同 IDE 窗口
- 完成后及时清理

**示例场景：**
- Claude A：重构认证系统
- Claude B：构建数据可视化组件
- Claude C：修复性能问题
- 各自独立推进，互不干扰

---

#### 6.4 用无头模式配合自定义脚本

`claude -p`（无头模式）可将 Claude Code 程序化集成到更大工作流。

**主要有两种模式：**

#### A. 批量处理

适合大规模迁移或分析。

**示例：批量迁移文件**

1. **生成任务列表**
   ```
   你：生成需要从 React 迁移到 Vue 的文件列表
   ```

2. **编写批处理脚本**
   ```bash
   #!/bin/bash
   # migrate.sh

   # 读取文件列表
   while read file; do
     echo "Migrating $file..."

     # 调用 Claude 处理单个文件
     result=$(claude -p "Migrate $file from React to Vue. When done, return OK if succeeded, or FAIL if failed." \
                     --allowedTools Edit,Bash \
                     --json)

     # 检查结果
     if echo "$result" | grep -q "OK"; then
       echo "✅ $file migrated successfully"
     else
       echo "❌ $file migration failed"
     fi
   done < files-to-migrate.txt
   ```

3. **多次运行优化**
   - 第一次运行：测试提示
   - 迭代优化提示
   - 最终大规模运行

**其他批处理场景：**
- 分析数百个日志文件
- 处理数千个 CSV
- 批量更新文档
- 大规模代码重构

---

#### B. 流水线集成

将 Claude 集成到现有数据/处理流水线。

**基本用法：**
```bash
claude -p "<你的提示>" --json | your_command
```

**示例 1：日志分析流水线**
```bash
#!/bin/bash
# log-analysis-pipeline.sh

# 步骤 1：收集日志
cat /var/log/app/*.log | \

# 步骤 2：Claude 分析
claude -p "分析这些日志，找出错误模式和频率" --json | \

# 步骤 3：格式化结果
jq '.analysis' | \

# 步骤 4：发送通知
mail -s "Daily Log Analysis" team@example.com
```

**示例 2：代码质量流水线**
```bash
#!/bin/bash
# quality-pipeline.sh

# 获取最近提交的文件
git diff --name-only HEAD~1 | \

# 用 Claude 审查
claude -p "审查这些文件的代码质量" --json | \

# 提取问题
jq -r '.issues[] | "\(.file):\(.line) - \(.message)"' | \

# 创建 GitHub issue
while read issue; do
  gh issue create --title "Code Quality: $issue" --body "Found by automated review"
done
```

**调试建议：**

```bash
# 开发时使用 --verbose
claude -p "test" --verbose

# 生产环境关闭 verbose
claude -p "test" --json > output.json
```

---

## 🎯 实战技巧总结

### 配置优先级

1. ✅ 创建并优化 CLAUDE.md
2. ✅ 配置允许工具列表
3. ✅ 安装 gh CLI
4. ✅ 设置自定义命令

### 工作流选择

| 场景 | 推荐工作流 |
|-----|----------|
| 新功能开发 | 探索→规划→编码→提交 |
| Bug 修复 | 写测试→编码→迭代 |
| UI 开发 | 截图→编码→迭代 |
| 代码库学习 | 代码库问答 |
| 批量任务 | 无头模式批处理 |

### 效率提升要点

1. **明确指令** - 越具体越好
2. **提供视觉** - 图片和截图
3. **及时纠正** - Esc / 双击 Esc / undo
4. **保持聚焦** - /clear 清理上下文
5. **多实例协作** - 分工合作效率更高

### 安全建议

1. ⚠️ 谨慎使用 `--dangerously-skip-permissions`
2. ✅ 在容器中运行高风险操作
3. ✅ 定期审查允许工具列表
4. ✅ 提交 CLAUDE.md 和 .mcp.json 到 git

---

## 🚀 进阶学习

### 相关课程
- 📖 [第九课：提示词优化技巧](./09-提示词优化技巧.md) - 提升交互效率
- 📖 [第十课：AI 子代理系统](./10-AI子代理系统.md) - 构建专家团队
- 📖 [第十一课：34 条实用技巧](./11-实用技巧集锦.md) - 全面的技巧集锦

### 官方资源
- 📚 [Claude Code 官方文档](https://claude.ai/code)
- 📚 [MCP 文档](https://modelcontextprotocol.io)
- 📚 [GitHub CLI 文档](https://cli.github.com)

### 社区资源
- 💬 [Claude Code GitHub Discussions](https://github.com/anthropics/claude-code/discussions)
- 💬 [Discord 社区](https://discord.gg/claude-code)

---

## 💡 最后的建议

这些最佳实践并非一成不变或普遍适用，请将其视为起点。我们鼓励你：

1. **大胆尝试** - 探索不同方法
2. **持续优化** - 根据实践调整工作流
3. **分享经验** - 与团队和社区交流
4. **保持灵活** - 找到最适合自己的方式

记住：Claude Code 是灵活、可定制的工具，最佳实践会随着你的经验不断演进。

---

📚 [返回教程目录](../README.md)
