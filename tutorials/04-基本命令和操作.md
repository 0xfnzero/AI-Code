# 第四课:基本命令和操作

> 🎯 **学习目标**：掌握 Claude Code 的内置命令和高效操作技巧

## 课前准备

- ✅ 已完成前三课的学习
- ✅ 能够熟练启动和使用 Claude Code
- ✅ 准备一个测试项目用于练习

## 1. Claude Code 内置命令

### 命令概述

在 Claude Code 对话中，以 `/` 开头的是特殊命令，直接执行系统功能。

### 基本命令列表

| 命令 | 作用 | 使用场景 |
|------|------|----------|
| `/exit` | 退出 Claude Code | 完成工作后 |
| `/clear` | 清空对话历史 | 开始新任务 |
| `/help` | 显示帮助信息 | 忘记命令时 |
| `/model` | 查看当前模型 | 确认 AI 版本 |
| `/cost` | 查看使用费用 | 了解消耗 |
| `/undo` | 撤销最后操作 | 操作错误时 |

### 实践演示

```
你：/help
Claude：[显示所有可用命令和说明]

你：/clear
Claude：对话历史已清空，开始新的对话

你：/exit
[退出 Claude Code]
```

## 2. 文件操作命令

### 查看文件

```
你：显示 index.html 的内容

你：读取 style.css 文件

你：看一下 README.md
```

### 创建文件

```
你：创建一个名为 config.js 的配置文件

你：新建一个 about.html 页面

你：生成一个 .gitignore 文件
```

### 编辑文件

```
你：修改 index.html 的第 10 行，把标题改成"欢迎"

你：在 style.css 中添加一个新的类 .button

你：删除 script.js 中的 console.log 语句
```

### 删除文件

```
你：删除 test.html

你：移除不需要的 backup.js 文件
```

## 3. 项目管理技巧

### 初始化项目结构

```
你：帮我创建一个标准的网站项目结构

Claude 会创建：
my-project/
├── index.html
├── css/
│   └── style.css
├── js/
│   └── script.js
├── images/
└── README.md
```

### 查看项目结构

```
你：显示当前项目的文件结构

你：列出所有 HTML 文件

你：有哪些 JavaScript 文件？
```

### 组织文件

```
你：把所有 CSS 文件移到 styles 文件夹

你：创建一个 components 文件夹存放组件

你：重命名 main.js 为 app.js
```

## 4. 代码搜索和导航

### 搜索代码

```
你：找出所有包含 "button" 的代码

你：搜索哪里使用了 getUserData 函数

你：查找所有的 TODO 注释
```

### 定位代码

```
你：找到 login 函数的定义位置

你：显示 User 类在哪个文件

你：定位 API_URL 常量
```

## 5. 批量操作

### 批量修改

```
你：把所有文件中的 var 改成 let

你：将所有 console.log 替换为自定义日志函数

你：更新所有文件的版权信息为 2024
```

### 批量添加

```
你：给所有 JavaScript 函数添加 JSDoc 注释

你：为每个 HTML 文件添加 meta 标签

你：给所有 CSS 类添加注释说明
```

## 6. Git 操作（版本控制）

### 初始化 Git

```
你：初始化 git 仓库

Claude：我会运行 git init 命令...
```

### 查看状态

```
你：检查 git 状态

你：有哪些文件被修改了？

你：显示当前分支
```

### 提交代码

```
你：提交所有更改，提交信息是"添加首页功能"

Claude：我会执行：
git add .
git commit -m "添加首页功能"
```

### 查看历史

```
你：显示最近 5 次提交记录

你：查看上次提交改了什么
```

## 7. 调试技巧

### 检查语法错误

```
你：检查代码是否有语法错误

你：这段代码有问题吗？
```

### 解释错误信息

```
你：这个错误是什么意思？
TypeError: Cannot read property 'name' of undefined

Claude：这个错误表示你试图访问一个未定义对象的 'name' 属性...
```

### 调试建议

```
你：如何调试这个登录功能？

Claude：建议按以下步骤调试：
1. 检查表单数据是否正确获取
2. 验证 API 请求是否发送成功
3. 查看响应数据格式
...
```

## 8. 代码优化

### 请求代码审查

```
你：帮我审查这段代码，看看有什么可以改进的

Claude：我注意到以下几点：
1. 可以使用更简洁的语法
2. 建议添加错误处理
3. 变量命名可以更清晰
...
```

### 性能优化

```
你：这段代码运行很慢，能优化吗？

Claude：我发现了几个性能问题：
1. 循环中有重复计算
2. 可以使用缓存减少计算
...
```

### 代码重构

```
你：把这个函数拆分成更小的函数

你：用更现代的 JavaScript 语法重写这段代码

你：简化这个 if-else 逻辑
```

## 9. 文档生成

### 生成 README

```
你：为这个项目生成一个 README 文件

Claude 会包含：
- 项目介绍
- 安装说明
- 使用方法
- 文件结构
```

### 生成注释

```
你：为这个函数添加详细注释

你：给这个类生成 JSDoc 文档

你：解释这段复杂的算法
```

### 生成 API 文档

```
你：基于这些接口生成 API 文档

你：列出所有可用的函数和它们的参数
```

## 10. 实用工作流程

### 工作流程 1：添加新功能

```
1. 你：我要添加用户注册功能，包括表单验证
2. Claude：创建表单 HTML + 验证 JavaScript
3. 你：表单样式要更美观
4. Claude：美化 CSS 样式
5. 你：添加提交成功的提示
6. Claude：添加成功提示功能
7. 你：测试一下有没有问题
8. Claude：运行测试并报告结果
```

### 工作流程 2：修复 Bug

```
1. 你：点击提交按钮没有反应
2. Claude：让我检查一下... 发现是事件监听器没有正确绑定
3. 你：能修复吗？
4. Claude：已修复，请测试
5. 你：现在可以了，谢谢
```

### 工作流程 3：项目重构

```
1. 你：项目代码太乱了，帮我整理一下
2. Claude：
   - 分析当前结构
   - 建议新的文件组织
   - 询问你的确认
3. 你：按这个方案来吧
4. Claude：
   - 创建新的文件结构
   - 移动和重构代码
   - 更新所有引用
5. Claude：重构完成，请测试功能是否正常
```

## 11. 快捷操作技巧

### 连续操作

```
你：
1. 创建一个 dashboard.html 页面
2. 添加导航栏
3. 添加统计卡片
4. 应用蓝色主题

Claude：好的，我会按顺序完成这些任务...
```

### 条件操作

```
你：如果存在 config.js 就更新它，否则创建新的

Claude：我检查了，文件不存在，我会创建一个新的...
```

### 引用之前的内容

```
你：创建一个登录页面

[Claude 创建了登录页面]

你：用同样的风格创建一个注册页面

Claude：好的，我会使用和登录页面相同的设计风格...
```

## 12. 进阶技巧

### 使用上下文

```
你：记住这个设计规范：
- 主色：#3498db
- 字体：Roboto
- 圆角：8px

Claude：好的，我记住了这些设计规范

你：用这个规范创建一个按钮组件

Claude：[使用指定的设计规范创建按钮]
```

### 多文件协作

```
你：创建一个用户管理模块，需要：
- user.html 展示页面
- user.js 业务逻辑
- user.css 样式
- 它们要互相配合工作

Claude：我会创建这三个文件，并确保它们正确关联...
```

### 模板和脚手架

```
你：创建一个 React 组件模板，以后我可以复用

Claude：[创建可复用的组件模板]

你：基于这个模板创建一个 Header 组件

Claude：[使用模板生成新组件]
```

## 13. 避免常见错误

### 错误 1：操作太快

❌ 不好的做法：
```
你：创建 index.html
你：添加导航栏
你：添加页脚
你：修改颜色
[不等 Claude 完成就继续提要求]
```

✅ 好的做法：
```
你：创建 index.html
[等待 Claude 完成]
你：添加导航栏
[等待完成并检查]
你：添加页脚
...
```

### 错误 2：不检查结果

❌ 不好的做法：
```
Claude：已创建文件
你：[立即提下一个要求]
```

✅ 好的做法：
```
Claude：已创建文件
你：看一下 index.html 的内容
[检查确认]
你：很好，继续...
```

### 错误 3：描述模糊

❌ 不好的做法：
```
你：改一下样式
```

✅ 好的做法：
```
你：把按钮的背景色改成蓝色，字体大小改成 16px
```

## 14. 高效协作模式

### 教学模式

```
你：能教我这段代码是怎么工作的吗？一步步解释

Claude：当然，让我详细解释：
第 1 行：定义函数...
第 2 行：检查参数...
...
```

### 探索模式

```
你：有哪些方式可以实现图片懒加载？

Claude：有几种常见方法：
1. Intersection Observer API
2. scroll 事件监听
3. 第三方库如 lazysizes
每种方法的优缺点是...
```

### 决策辅助

```
你：我应该用 Vue 还是 React 来做这个项目？

Claude：让我分析一下你的需求...
基于 [项目特点]，我建议...
因为...
```

## 15. 键盘快捷键（终端）

### 常用快捷键

| 快捷键 | 作用 | 系统 |
|--------|------|------|
| `Ctrl + C` | 中断当前命令 | 全部 |
| `Ctrl + D` | 退出/EOF | 全部 |
| `Ctrl + L` | 清屏 | 全部 |
| `↑` / `↓` | 浏览命令历史 | 全部 |
| `Tab` | 自动补全 | 全部 |
| `Ctrl + A` | 光标到行首 | 全部 |
| `Ctrl + E` | 光标到行尾 | 全部 |

## 16. 实战练习

### 练习 1：文件管理

任务：
1. 创建项目结构（3 个 HTML，2 个 CSS，1 个 JS）
2. 查看所有创建的文件
3. 重命名其中一个文件
4. 删除一个测试文件

### 练习 2：代码修改

任务：
1. 创建一个简单的 HTML 页面
2. 要求 Claude 显示内容
3. 修改特定行的内容
4. 批量替换某个词

### 练习 3：项目开发

任务：
1. 初始化一个待办事项项目
2. 逐步添加功能（添加、删除、标记完成）
3. 美化样式
4. 生成项目文档

### 练习 4：调试修复

任务：
1. 故意写一段有错误的代码
2. 让 Claude 找出问题
3. 请求修复建议
4. 应用修复并验证

## 17. 命令速查表

### 项目初始化
```bash
claude                    # 启动
cd my-project            # 进入项目
/clear                   # 清空历史
```

### 文件操作
```
创建 [文件名]
显示 [文件名]
修改 [文件名] 的 [内容]
删除 [文件名]
```

### 代码操作
```
搜索 [关键词]
查找 [函数名]
优化 [代码部分]
重构 [模块名]
```

### Git 操作
```
初始化 git
查看状态
提交更改
查看历史
```

## 18. 下一步

🎉 恭喜你掌握了基本命令和操作！

现在你已经学会了：
- ✅ Claude Code 的所有内置命令
- ✅ 高效的文件操作方法
- ✅ 项目管理技巧
- ✅ 调试和优化流程

**准备进入进阶学习了吗？**

👉 下一课：[文件操作进阶](./05-文件操作进阶.md)

在那里，我们会学习：
1. 复杂的文件操作
2. 跨文件重构
3. 项目模板管理
4. 自动化工作流

---

💡 **小贴士**：
- 把常用命令写在笔记本上
- 多练习键盘快捷键，提高效率
- 建立自己的工作流程模板
- 记录遇到的问题和解决方法
